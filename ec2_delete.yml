- hosts: localhost
  connection: local
  gather_facts: False

  tasks:

    # - name: Provision a set of instances
    #   ec2:
    #      state: absent
    #      region: eu-west-1 
    #      wait: true

    #   register: ec2

    # Conditional example
    - name: Gather facts
      ec2_facts:

    - name: Conditional
      debug:
        msg: "This instance is a t1.micro"
      when: ansible_ec2_instance_type == "t1.micro"